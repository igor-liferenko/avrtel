See these (instead of circuit.mp, which is based on MakeCirc package):
http://texdoc.net/texmf-dist/doc/latex/circ/circ.pdf
http://ci.louisville.edu/tom/software/LaTeX/mpcirc/ (see description of it on p.55 of http://tex.loria.fr/prod-graph/heck-metapost2003.pdf)
